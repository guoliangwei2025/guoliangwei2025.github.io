{"title":"python-GIL","uid":"7c92a90719ee3ce55cb3de2f938af8f9","slug":"python-GIL","date":"2026-01-03T06:08:14.000Z","updated":"2026-01-03T06:54:04.882Z","comments":true,"path":"api/articles/python-GIL.json","keywords":"AI、Python","cover":null,"content":"<h1 id=\"GIL\"><a href=\"#GIL\" class=\"headerlink\" title=\"GIL\"></a>GIL</h1><h2 id=\"GIL是什么\"><a href=\"#GIL是什么\" class=\"headerlink\" title=\"GIL是什么\"></a>GIL是什么</h2><p>GIL 是 CPython 为了简化内存管理而引入的全局解释器锁，它保证同一时间只有一个线程执行 Python 字节码。这使得 Python 的多线程在 CPU 密集型任务中无法利用多核，但在 I&#x2F;O 密集型任务中依然有效。</p>\n<p>🔒 互斥锁的定义：</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>互斥锁是一种同步原语，用于<strong>防止多个线程同时访问共享资源</strong>。</p></blockquote>\n<p>GIL 正是这样一把锁：</p>\n<ul>\n<li><strong>共享资源</strong> &#x3D; CPython 解释器的内部状态（如对象引用计数、内存管理器）</li>\n<li><strong>保护方式</strong> &#x3D; 任何线程要执行 Python 代码，必须先获取 GIL</li>\n</ul>\n<h2 id=\"为什么要设计-GIL\"><a href=\"#为什么要设计-GIL\" class=\"headerlink\" title=\"为什么要设计 GIL\"></a>为什么要设计 GIL</h2><p>GIL 的核心原因：<strong>CPython 的内存管理模型</strong></p>\n<p>🔑 关键点：</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p><strong>CPython 使用 “引用计数（Reference Counting）” 作为主要的内存管理机制</strong>，而引用计数的<strong>增减操作必须是原子的</strong>。</p></blockquote>\n<p>🔑 核心逻辑链：</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p><strong>Python（CPython）使用引用计数（Reference Counting）管理内存</strong> ↓ <strong>引用计数的增减必须是原子操作（否则会出错）</strong> ↓ <strong>为了保证原子性，CPython 引入了 GIL（全局互斥锁）</strong> ↓ <strong>GIL 确保同一时刻只有一个线程能修改引用计数</strong></p></blockquote>\n<h2 id=\"什么是引用计数（Reference-Counting）\"><a href=\"#什么是引用计数（Reference-Counting）\" class=\"headerlink\" title=\"什么是引用计数（Reference Counting）\"></a>什么是<strong>引用计数（Reference Counting）</strong></h2><p>在 CPython 中，<strong>每个 Python 对象</strong>（如 <code>list</code>, <code>str</code>, 自定义类实例）都有一个字段叫 <code>ob_refcnt</code>，记录 “有多少变量 &#x2F; 容器引用了它”。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">a = [1, 2, 3]      # ob_refcnt = 1</span><br><span class=\"line\">b = a              # ob_refcnt = 2</span><br><span class=\"line\">c = [a, &quot;hello&quot;]   # ob_refcnt = 3（因为 c[0] 也引用了a）</span><br><span class=\"line\">del b              # ob_refcnt = 2</span><br></pre></td></tr></table></figure>\n\n<p>当 <code>ob_refcnt</code> <strong>降到 0</strong> 时，对象立即被销毁（内存回收）。</p>\n<h4 id=\"如果没有-GIL\"><a href=\"#如果没有-GIL\" class=\"headerlink\" title=\"如果没有 GIL\"></a>如果没有 GIL</h4><p>假设两个线程同时执行 <code>b = a</code>：</p>\n<table>\n<thead>\n<tr>\n<th>线程 A</th>\n<th>线程 B</th>\n<th>实际 <code>ob_refcnt</code></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>读取 <code>ob_refcnt = 1</code></td>\n<td>读取 <code>ob_refcnt = 1</code></td>\n<td>1</td>\n</tr>\n<tr>\n<td>计算 <code>1 + 1 = 2</code></td>\n<td>计算 <code>1 + 1 = 2</code></td>\n<td>—</td>\n</tr>\n<tr>\n<td>写回 <code>ob_refcnt = 2</code></td>\n<td>写回 <code>ob_refcnt = 2</code></td>\n<td><strong>2</strong>（但正确值应为 <strong>3</strong>！）</td>\n</tr>\n</tbody></table>\n<p>👉 <strong>结果</strong>：引用计数错误 → 对象可能被<strong>提前释放</strong>（程序崩溃）或<strong>内存泄漏</strong>。</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>💥 这就是<strong>竞态条件</strong>（Race Condition）：<strong>多个线程 &#x2F; 进程并发访问共享资源时，最终结果依赖于它们的执行顺序或 timing（时序），导致程序行为不可预测、错误或崩溃。</strong></p></blockquote>\n<h2 id=\"为什么-Java-Go-不需要-GIL？\"><a href=\"#为什么-Java-Go-不需要-GIL？\" class=\"headerlink\" title=\"为什么 Java&#x2F;Go 不需要 GIL？\"></a>为什么 Java&#x2F;Go 不需要 GIL？</h2><table>\n<thead>\n<tr>\n<th>语言</th>\n<th>内存管理</th>\n<th>是否需要全局锁</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><strong>Python</strong> (CPython)</td>\n<td>引用计数（运行时增减）</td>\n<td>✅ 需要（GIL）</td>\n</tr>\n<tr>\n<td><strong>Java &#x2F; Go &#x2F; C#</strong></td>\n<td>垃圾回收（GC）</td>\n<td>❌ 不需要</td>\n</tr>\n<tr>\n<td><strong>Rust</strong></td>\n<td>编译期所有权检查</td>\n<td>❌ 不需要</td>\n</tr>\n</tbody></table>\n<ul>\n<li><strong>GC 语言</strong>：对象分配 &#x2F; 回收由<strong>专用 GC 线程</strong>处理，用户线程不直接操作引用计数</li>\n<li><strong>Rust</strong>：内存安全在<strong>编译期</strong>保证，运行时无引用计数开销</li>\n</ul>\n<h2 id=\"什么是-GC\"><a href=\"#什么是-GC\" class=\"headerlink\" title=\"什么是 GC\"></a>什么是 GC</h2><p><strong>GC（Garbage Collection，垃圾回收）</strong> 是现代编程语言中<strong>自动管理内存</strong>的核心机制。其核心思想为， <strong>自动找出 “不再使用的对象”，并回收其内存，无需程序员手动释放。</strong></p>\n<p>🆚 对比：手动管理 vs 自动管理</p>\n<table>\n<thead>\n<tr>\n<th>方式</th>\n<th>代表语言</th>\n<th>特点</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><strong>手动管理</strong></td>\n<td>C, C++</td>\n<td>程序员用 <code>malloc/free</code> 或 <code>new/delete</code> 管理内存 → 容易出错（内存泄漏、野指针）</td>\n</tr>\n<tr>\n<td><strong>自动管理</strong></td>\n<td>Java, Go, C#, Python</td>\n<td>语言运行时自动回收内存 → 安全，但有性能开销</td>\n</tr>\n</tbody></table>\n<h2 id=\"GC-是如何工作的\"><a href=\"#GC-是如何工作的\" class=\"headerlink\" title=\"GC 是如何工作的\"></a>GC 是如何工作的</h2><p>主流 GC（如 Java、Go）使用 <strong>“可达性分析”</strong>（Reachability Analysis）判断对象是否存活：</p>\n<p>🌳 核心概念：<strong>根对象</strong>（Roots）</p>\n<ul>\n<li>全局变量</li>\n<li>当前函数的局部变量</li>\n<li>CPU 寄存器中的引用</li>\n</ul>\n<p>📌 判断规则：</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p><strong>从根对象出发，能通过引用链到达的对象 &#x3D; 存活对象</strong> <strong>无法到达的对象 &#x3D; 垃圾（可回收）</strong></p></blockquote>\n<h2 id=\"python-的程序并行\"><a href=\"#python-的程序并行\" class=\"headerlink\" title=\"python 的程序并行\"></a>python 的程序并行</h2><p><strong>由于 CPython 的 GIL（全局解释器锁）存在：</strong></p>\n<ul>\n<li><strong>多线程无法在多核 CPU 上并行执行 Python 字节码（尤其是 CPU 密集型任务）</strong>；</li>\n<li><strong>但多进程可以绕过 GIL，每个进程拥有独立的解释器和内存空间，因此能真正并行，充分利用多核 CPU。</strong></li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>类型</th>\n<th>是否受 GIL 限制</th>\n<th>能否利用多核</th>\n<th>适用场景</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><strong>多线程（Threading）</strong></td>\n<td>✅ 受限（CPU 任务串行）</td>\n<td>❌ CPU 任务不能✅ I&#x2F;O 任务可以（因释放 GIL）</td>\n<td>网络请求、文件读写、数据库查询等 I&#x2F;O 密集型</td>\n</tr>\n<tr>\n<td><strong>多进程（Multiprocessing）</strong></td>\n<td>❌ 不受限</td>\n<td>✅ 能（真并行）</td>\n<td>图像处理、模型推理、加密计算等 CPU 密集型</td>\n</tr>\n</tbody></table>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>📌 注意：<strong>“并行”（parallelism）≠ “并发”（concurrency）</strong><br>- 多线程在 Python 中实现的是 <strong>并发（交替执行）</strong>，不是 <strong>并行（同时执行）</strong>（对 CPU 任务而言）。</p></blockquote>\n<h2 id=\"参考资料\"><a href=\"#参考资料\" class=\"headerlink\" title=\"参考资料\"></a>参考资料</h2><p><a href=\"https://www.bilibili.com/video/BV1im411R7UB/?spm_id_from=333.788.recommend_more_video.-1&trackid=web_related_0.router-related-2206146-52fdn.1761309673091.512&vd_source=bacf29bd4bb51f2ecf08a1ac7c7d8f11\">带大家感受一下没有 GIL 的 CPython_哔哩哔哩_bilibili</a></p>\n<p><a href=\"https://www.bilibili.com/video/BV1za411t7dR?spm_id_from=333.788.recommend_more_video.-1&trackid=web_related_0.router-related-2206146-pkt2c.1761372920438.898&vd_source=bacf29bd4bb51f2ecf08a1ac7c7d8f11\">【python】天使还是魔鬼？GIL 的前世今生。一期视频全面了解 GIL！_哔哩哔哩_bilibili</a></p>\n","feature":true,"text":"GILGIL是什么GIL 是 CPython 为了简化内存管理而引入的全局解释器锁，它保证同一时间只有一个线程执行 Python 字节码。这使得 Python ...","permalink":"/post/python-GIL","photos":[],"count_time":{"symbolsCount":"2.4k","symbolsTime":"2 mins."},"categories":[{"name":"python","slug":"python","count":4,"path":"api/categories/python.json"}],"tags":[{"name":"python","slug":"python","count":2,"path":"api/tags/python.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#GIL\"><span class=\"toc-text\">GIL</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#GIL%E6%98%AF%E4%BB%80%E4%B9%88\"><span class=\"toc-text\">GIL是什么</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E8%AE%BE%E8%AE%A1-GIL\"><span class=\"toc-text\">为什么要设计 GIL</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BB%80%E4%B9%88%E6%98%AF%E5%BC%95%E7%94%A8%E8%AE%A1%E6%95%B0%EF%BC%88Reference-Counting%EF%BC%89\"><span class=\"toc-text\">什么是引用计数（Reference Counting）</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%A6%82%E6%9E%9C%E6%B2%A1%E6%9C%89-GIL\"><span class=\"toc-text\">如果没有 GIL</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%B8%BA%E4%BB%80%E4%B9%88-Java-Go-%E4%B8%8D%E9%9C%80%E8%A6%81-GIL%EF%BC%9F\"><span class=\"toc-text\">为什么 Java&#x2F;Go 不需要 GIL？</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BB%80%E4%B9%88%E6%98%AF-GC\"><span class=\"toc-text\">什么是 GC</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#GC-%E6%98%AF%E5%A6%82%E4%BD%95%E5%B7%A5%E4%BD%9C%E7%9A%84\"><span class=\"toc-text\">GC 是如何工作的</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#python-%E7%9A%84%E7%A8%8B%E5%BA%8F%E5%B9%B6%E8%A1%8C\"><span class=\"toc-text\">python 的程序并行</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99\"><span class=\"toc-text\">参考资料</span></a></li></ol></li></ol>","author":{"name":"GuoLiangWei","slug":"blog-author","avatar":"/img/logo.jpg","link":"/","description":"<span style='font-size:30px;background:linear-gradient(90deg,#00c6ff,#0072ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent;'>心照不宣</span>","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"github":{"icon":"https://cdn.jsdelivr.net/npm/simple-icons@11/icons/github.svg","link":"https://github.com/guoliangwei2025"},"qq":{"icon":"https://cdn.jsdelivr.net/npm/simple-icons@11/icons/tencentqq.svg","link":"https://wpa.qq.com/msgrd?v=3&uin=2691160140&site=qq&menu=yes"}}}},"mapped":true,"hidden":false,"prev_post":{},"next_post":{"title":"python-asyncio","uid":"d72bf98afaa611a8ebc99f629126e6a5","slug":"python-asyncio","date":"2026-01-03T02:20:49.000Z","updated":"2026-01-03T06:07:39.888Z","comments":true,"path":"api/articles/python-asyncio.json","keywords":"AI、Python","cover":null,"text":"Python 异步编程概念学习 通俗理解：操作系统对CPU时间和内存进行管理，进程好比单独的一间办公室有自己独立的空间和资源，线程好比办公室中的员工，共享办公室...","permalink":"/post/python-asyncio","photos":[],"count_time":{"symbolsCount":"5.7k","symbolsTime":"5 mins."},"categories":[{"name":"python","slug":"python","count":4,"path":"api/categories/python.json"}],"tags":[{"name":"python","slug":"python","count":2,"path":"api/tags/python.json"}],"author":{"name":"GuoLiangWei","slug":"blog-author","avatar":"/img/logo.jpg","link":"/","description":"<span style='font-size:30px;background:linear-gradient(90deg,#00c6ff,#0072ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent;'>心照不宣</span>","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"github":{"icon":"https://cdn.jsdelivr.net/npm/simple-icons@11/icons/github.svg","link":"https://github.com/guoliangwei2025"},"qq":{"icon":"https://cdn.jsdelivr.net/npm/simple-icons@11/icons/tencentqq.svg","link":"https://wpa.qq.com/msgrd?v=3&uin=2691160140&site=qq&menu=yes"}}}},"feature":true}}